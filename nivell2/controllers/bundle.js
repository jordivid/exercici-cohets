!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";t.__esModule=!0;var o=n(1),r=new Array;function i(){var e=document.getElementById("codi"),t=document.getElementById("prop1"),n=document.getElementById("prop2"),o=document.getElementById("prop3"),r=document.getElementById("prop4"),i=document.getElementById("prop5"),u=document.getElementById("prop6"),l=document.getElementById("errcodi");e.classList.remove("is-invalid"),l.innerHTML="",e.value="",t.value="10",null!=n&&(n.value="10"),null!=o&&(o.value="10"),null!=r&&(r.value="10"),null!=i&&(i.value="10"),null!=u&&(u.value="10")}window.addEventListener("load",function(e){for(var t,n,u,l,d,s,c=document.getElementById("btCursa"),a=function(e){null===(t=document.getElementById("rocket"+e))||void 0===t||t.addEventListener("click",function(){!function(e){for(var t=document.getElementById("propellers"),n="",o=1;o<=e;o++)n+='\n            <div style="width: 100px; margin: auto" class="form-group mt-2">\n                <label for="prop'+o+'" class="font-weight-bold">Propulsor'+o+'</label>\n                <select class="form-control form-control-sm" id="prop'+o+'">\n                    <option value="10">10</option>\n                    <option value="20">20</option>\n                    <option value="30">30</option>\n                    <option value="40">40</option>\n                    <option value="50">50</option>\n                    <option value="60">60</option>\n                </select>\n            </div>\n        ';t.innerHTML=n}(e)})},p=1;p<7;p++)a(p);if(null===(n=document.getElementById("btOK"))||void 0===n||n.addEventListener("click",function(){!function(){var e,t,n=document.getElementById("magatzem"),u=document.getElementById("btCursa"),l=document.getElementById("codi"),d=l.value.trim(),s=document.getElementById("prop1"),c=document.getElementById("prop2"),a=document.getElementById("prop3"),p=document.getElementById("prop4"),m=document.getElementById("prop5"),f=document.getElementById("prop6"),g=new Array,h=document.getElementById("errcodi");if(l.classList.remove("is-invalid"),h.innerHTML="",8!=d.length)return l.classList.add("is-invalid"),void(h.innerHTML="El codi ha de tenir 8 caràcters");if(o.Cohet.hasCohet(d,r))return l.classList.add("is-invalid"),void(h.innerHTML="Ja existeix un cohet amb aquest codi");g.push(Number(s.value)),null!=c&&g.push(Number(c.value));null!=a&&g.push(Number(a.value));null!=p&&g.push(Number(p.value));null!=m&&g.push(Number(m.value));null!=f&&g.push(Number(f.value));t=new o.Cohet(d,g),r.push(t),n.insertAdjacentHTML("beforeend",t.getInfo()),u.disabled=!1,null===(e=document.getElementById("bt_"+t.codi))||void 0===e||e.addEventListener("click",function(){var e=document.getElementById(t.codi),n=document.getElementById("img_"+t.codi),i=document.getElementById("petard");n.innerHTML='<img src="./../assets/explosio.gif" alt="Explosió" width="80px" height="50px">',i.play(),setTimeout(function(){e.remove()},1e3),o.Cohet.eliminarCohet(t.codi,r),0===r.length&&(u.disabled=!0)}),i()}()}),null===(u=document.getElementById("btCancelUp"))||void 0===u||u.addEventListener("click",function(){i()}),null===(l=document.getElementById("btCancel"))||void 0===l||l.addEventListener("click",function(){i()}),null===(d=document.getElementById("btCursa"))||void 0===d||d.addEventListener("click",function(){o.Cohet.serialitzar(r),window.open("./../views/cursa.html","_self")}),(r=o.Cohet.deserialitzar()).length>0)for(var m=document.getElementById("magatzem"),f=function(e){m.insertAdjacentHTML("beforeend",e.getInfo()),null===(s=document.getElementById("bt_"+e.codi))||void 0===s||s.addEventListener("click",function(){var t=document.getElementById(e.codi),n=document.getElementById("img_"+e.codi),i=document.getElementById("petard");n.innerHTML='<img src="./../assets/explosio.gif" alt="Explosió" width="80px" height="50px">',i.play(),setTimeout(function(){t.remove()},1e3),o.Cohet.eliminarCohet(e.codi,r),0===r.length?c.disabled=!0:c.disabled=!1})},g=0,h=r;g<h.length;g++){f(h[g])}else c.disabled=!0})},function(e,t,n){"use strict";t.__esModule=!0,t.Cohet=void 0;var o=n(2),r=function(){function e(e,t){this._codi=e,this._propulsors=new Array,this._curpower=0,this._posX=0,this._posY=0;for(var n=0,r=t;n<r.length;n++){var i=r[n];this._propulsors.push(new o.Propulsor(i))}}return e.hasCohet=function(e,t){for(var n=0,o=t;n<o.length;n++){if(o[n].codi===e)return!0}return!1},e.eliminarCohet=function(e,t){for(var n=0;n<t.length;n++)if(t[n].codi===e){t.splice(n,1);break}},e.serialitzar=function(e){sessionStorage.setItem("llista_cohets",JSON.stringify(e))},e.deserialitzar=function(){var t=new Array,n=sessionStorage.getItem("llista_cohets");if("string"==typeof n)for(var o=void 0,r=0,i=JSON.parse(n);r<i.length;r++){o=i[r];for(var u=new Array,l=0,d=o._propulsors;l<d.length;l++){var s=d[l];u.push(s._maxpower)}t.push(new e(o._codi,u))}return t},Object.defineProperty(e.prototype,"codi",{get:function(){return this._codi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propulsors",{get:function(){return this._propulsors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curpower",{get:function(){return this._curpower},set:function(e){this._curpower=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posX",{get:function(){return this._posX},set:function(e){this._posX=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posY",{get:function(){return this._posX},set:function(e){this._posY=e},enumerable:!1,configurable:!0}),e.prototype.getMaxPower=function(){for(var e=0,t=0,n=this.propulsors;t<n.length;t++){e+=n[t].maxpower}return e},e.prototype.getImage=function(){return"rocket"+this.propulsors.length+".png"},e.prototype.getInfo=function(){var e="",t=0;e+='\n            <tr id="'+this.codi+'">\n            <td><button id="bt_'+this.codi+'" type="button" class="btn btn-sm btn-danger">X</button></td>\n            <td id="img_'+this.codi+'" class="p-1 d-flex flex-column align-items-center">\n                <img src="./../assets/'+this.getImage()+'" alt="Cohet" width="80px" height="auto">\n                <span style="font-size: 10px">'+this.codi+"</span>\n            </td>\n        ";for(var n=0,o=this.propulsors;n<o.length;n++){t++,e+='\n                <td class="text-center">'+o[n].maxpower+"</td>\n            "}if(t<6)for(var r=t;r<6;r++)e+="<td></td>";return e+="</tr>"},e.prototype.accelerar=function(){var t=this.getMaxPower(),n=this.curpower;return n!==t&&((n+=e.ACC_FACTOR)>t&&(n=t),this.curpower=n,!0)},e.prototype.frenar=function(){var t=this.curpower;return 0!==t&&((t-=e.DEC_FACTOR)<0&&(t=0),this.curpower=t,!0)},e.prototype.codiCohet=function(){return'\n            <div id="'+this.codi+'" style="display: inline-block; z-index: 100">\n                <img src="./../assets/'+this.getImage()+'" alt="'+this.codi+'">\n            </div>\n        '},e.ACC_FACTOR=10,e.DEC_FACTOR=10,e}();t.Cohet=r},function(e,t,n){"use strict";t.__esModule=!0,t.Propulsor=void 0;var o=function(){function e(e){this._maxpower=e}return Object.defineProperty(e.prototype,"maxpower",{get:function(){return this._maxpower},enumerable:!1,configurable:!0}),e}();t.Propulsor=o}]);